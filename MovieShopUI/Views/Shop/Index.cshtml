@model IEnumerable<MovieShopDAL.Movie>

@{
    ViewBag.Title = "Movie Shop";
}

<h2>Movie Shop</h2>

<div class="container">
    @foreach (var item in Model)
    {

        <div class="col-sm-3">
            <div>
                <img src="~/Content/MovieImages/@Html.DisplayFor(modelItem => item.ImageUrl)" class="img-responsive img-rounded" />
            </div>
            @Html.DisplayFor(modelItem => item.Title) <br />
            @Html.DisplayFor(modelItem => item.Category.CategoryName)<br />
            <b>Price: </b>@Html.DisplayFor(modelItem => item.Price)<br />

            <button type="button" class="btn btn-default">@Html.ActionLink("Details", "Details", new { id = item.Id })</button>

            @if (@item.TrailerUrl != null)
            {

                <!-- Button HTML (to Trigger Modal) -->
                <a href="#myModal" class="btn btn-primary" data-toggle="modal">Trailer</a>

    <!-- Modal HTML -->
                <div id="myModal" class="modal fade">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                <h4 class="modal-title">@Html.DisplayFor(modelItem => item.Title)</h4>
                            </div>
                            <div class="modal-body">
                                <iframe id="cartoonVideo" width="500" height="300" src="@Html.DisplayFor(modelItem => item.TrailerUrl)" frameborder="0" allowfullscreen></iframe>
                            </div>
                        </div>
                    </div>
                </div>



            }
            <button type="button" class="btn btn-default">@Html.ActionLink("Add","Add", "ShoppingCart", new { id = item.Id }, null)</button>
        </div>
        
    }



</div>
